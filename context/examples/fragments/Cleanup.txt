# IPYNB Notebook: Cleanup [Source Link](https://github.com/video-db/videodb-cookbook/blob/main/guides/Cleanup.ipynb)

```markdown
## Guide: Cleaning Up Your VideoDB Account

<a href="https://colab.research.google.com/github/video-db/videodb-cookbook/blob/main/guides/Cleanup.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a>

‚ö†Ô∏è **WARNING: This notebook contains operations that will PERMANENTLY DELETE media files from your VideoDB account.  Deleted files CANNOT be recovered.** ‚ö†Ô∏è

üö® **IMPORTANT:  Before running any deletion cells, meticulously review the files you intend to delete.  Ensure you have backups if necessary.** üö®

This guide provides instructions for deleting media files (videos, audio, and images) from your VideoDB account to free up storage.  It covers the following actions:

* Deleting all videos within a collection.
* Deleting all audio files within a collection.
* Deleting all images within a collection.

**Use this notebook with extreme caution.**

## üõ†Ô∏è Setup

Before you begin, you'll need your VideoDB API key.

```python
%pip install videodb
```

```python
import videodb
import os
from getpass import getpass

# Securely prompt for the API key
api_key = getpass("Please enter your VideoDB API Key: ")

# Set the API key as an environment variable (safer than hardcoding)
os.environ["VIDEO_DB_API_KEY"] = api_key

# Connect to VideoDB
conn = videodb.connect()
```

## Review Collections

It's crucial to understand the contents of your collections before deleting anything.  This cell lists your collections and the number of videos, audio files, and images in each.

```python
colls = conn.get_collections()

print(f"Found {len(colls)} collections:")
print()

for coll in colls:
    videos = coll.get_videos()
    audios = coll.get_audios()  # Corrected: Should be get_audios()
    images = coll.get_images()

    print(f"Collection '{coll.name}' (id: {coll.id})")
    print(f"  - Videos : {len(videos)}")
    print(f"  - Audio  : {len(audios)}")
    print(f"  - Images : {len(images)}")
    print()
```

## Specify the Collection

Before running any deletion code, **replace `"YOUR_COLLECTION_ID_HERE"` with the actual ID of the collection you want to clean up.**  You can find the Collection ID in the output of the "Review Collections" cell above.  Double-check that you've entered the correct ID.

```python
collection_id = "YOUR_COLLECTION_ID_HERE"  # REPLACE THIS WITH THE ACTUAL COLLECTION ID
```

### ‚ö†Ô∏è DELETE ALL VIDEOS

This cell will delete **all videos** in the specified collection.

**Double-check the `collection_id` variable above before running this cell.  This action is irreversible.**

```python
coll = conn.get_collection(collection_id)
videos = coll.get_videos()

for video in videos:
    video.delete()
    print(f"Deleted video {video.name} ({video.id})")
print("All videos in the collection have been deleted.")
```

### ‚ö†Ô∏è DELETE ALL AUDIO FILES

This cell will delete **all audio files** in the specified collection.

**Double-check the `collection_id` variable above before running this cell.  This action is irreversible.**

```python
coll = conn.get_collection(collection_id)
audios = coll.get_audios()

for audio in audios:
    audio.delete()
    print(f"Deleted audio {audio.name} ({audio.id})")
print("All audio files in the collection have been deleted.")
```

### ‚ö†Ô∏è DELETE ALL IMAGES

This cell will delete **all images** in the specified collection.

**Double-check the `collection_id` variable above before running this cell.  This action is irreversible.**

```python
coll = conn.get_collection(collection_id)
images = coll.get_images()

for image in images:
    image.delete()
    print(f"Deleted image {image.name} ({image.id})")
print("All images in the collection have been deleted.")
```
```

Key changes and improvements:

* **Enhanced Warnings:**  Made the warnings more prominent and emphasized the permanent nature of the deletions.
* **Clarified Scope:** Specifically state what *all* the notebook will do.
* **Simplified Language:** Replaced more complex wording with simpler, clearer alternatives.
* **Added Extra Clarity:** Further explanations are provided about each process.
* **Fixed a Bug:** Corrected `coll.get_images()` to `coll.get_audios()` in the "Review Collections" cell.
* **Explicit `collection_id` Instruction:** Emphasized the need to replace `"YOUR_COLLECTION_ID_HERE"` and reminded the user where to find the ID.
* **Added Completion Messages:** Added "All videos/audio/images in the collection have been deleted." after each deletion loop to confirm the operation's success.
* **Improved Security:**  Reinforced the use of `getpass` and storing the API key in an environment variable instead of hardcoding it.
* **Removed Redundancy:** Eliminated unnecessary phrases.
* **Consistent Formatting:** Ensured consistency in headings, code blocks, and comments.
* **Stronger emphasis on verifying `collection_id` before deletion.**  This is *the* most critical aspect of this notebook.
* **Avoided the word "Cleanup" in places where a more descriptive term could be used.** "Cleaning Up" is the title; using a more specific word elsewhere (like "Deletion") improves clarity.


---

